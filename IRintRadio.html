<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Iran International Radio made By M.R </title>

<style>
body {
  background: #0f172a;
  font-family: sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  color: #e5e7eb;
}

.player {
  width: 350px;
  background: #020617;
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,.5);
}

.title {
  text-align: center;
  font-size: 18px;
  margin-bottom: 12px;
}

.status {
  text-align: center;
  font-size: 12px;
  color: #94a3b8;
  margin-bottom: 14px;
}

.controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

button {
  background: #2563eb;
  border: none;
  color: white;
  font-size: 16px;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  cursor: pointer;
}

button:hover {
  background: #1d4ed8;
}

.volume {
  width: 120px;
}

input[type="range"] {
  width: 100%;
}
</style>
</head>

<body>

<div class="player">
  <div class="title">ðŸŽ™ Iran International Radio Made by M.R <3</div>
  <div class="status" id="status">Ready</div>

  <div class="controls">
    <button id="playBtn">â–¶</button>
    <input type="range" class="volume" id="volume" min="0" max="1" step="0.01" value="0.8">
  </div>
</div>

<script>
const STREAM_URL = "https://radio.iraninternational.app/iintl_c";

let audio = null;
let isPlaying = false;

const playBtn = document.getElementById("playBtn");
const volumeSlider = document.getElementById("volume");
const statusEl = document.getElementById("status");

function setStatus(t) {
  statusEl.textContent = t;
}

function playStream() {
  audio = new Audio(STREAM_URL);
  audio.volume = volumeSlider.value;

  setStatus("Connecting...");
  playBtn.textContent = "â¹";

  audio.addEventListener("playing", () => {
    setStatus("Playing");
    isPlaying = true;
  });

  audio.addEventListener("error", () => {
    setStatus("Connection lost â€” press Play");
    playBtn.textContent = "â–¶";
    isPlaying = false;
  });

  audio.play().catch(() => {
    setStatus("Click Play to start");
  });
}

function stopStream() {
  if (audio) {
    audio.pause();
    audio.src = "";
    audio.load();
    audio = null;
  }
  isPlaying = false;
  playBtn.textContent = "â–¶";
  setStatus("Stopped");
}

playBtn.addEventListener("click", () => {
  isPlaying ? stopStream() : playStream();
});

volumeSlider.addEventListener("input", e => {
  if (audio) audio.volume = e.target.value;
});
</script>




</body>
</html>
